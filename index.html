<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
        <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
        <link rel="stylesheet" type="text/css" href="css/aface.css" />
        <title></title>
        <style>
            html, body {
                height: 100%;
            }
        </style>
    </head>
    <body class="aface index">
        <nav class="aface top-menu">
            <img class="aface icon" src="images/mmqrcode.png" />
            <span class="aface brand">治安卡口管理系统</span>
            <span class="aface underline"></span>
            <ul class="aface menu">
                <li class="aface menu-item" data-menu-id="1">
                    <a href="javascript:;" class="aface title">菜单</a>
                    <div class="aface content" style="width: 150px; height: 150px;"></div>
                </li>
                <li class="aface menu-item" data-menu-id="2">
                    <a href="javascript:;" class="aface title">菜单</a>
                    <div class="aface content" style="width: 300px; height: 200px;"></div>
                </li>
                <li class="aface menu-item" data-menu-id="3">
                    <a href="javascript:;" class="aface title">菜单</a>
                    <div class="aface content" style="width: 250px; height: 100px;"></div>
                </li>
                <li class="aface menu-item" data-menu-id="4">
                    <a href="javascript:;" class="aface title">菜单</a>
                    <div class="aface content" style="width: 150px;">
                        <a class="aface menu-item" href="javascript:;" data-menu-id="4-1"><i class="fa fa-qrcode"></i>&nbsp;按钮</a>
                        <a class="aface menu-item" href="javascript:;" data-menu-id="4-2">按钮</a>
                        <a class="aface menu-item" href="javascript:;" data-menu-id="4-3">按钮</a>
                        <a class="aface menu-item" href="javascript:;" data-menu-id="4-4">按钮</a>
                        <a class="aface menu-item" href="javascript:;" data-menu-id="4-5">按钮</a>
                    </div>
                </li>
                <li class="aface menu-item" data-menu-id="5">
                    <a href="javascript:;" class="aface title">菜单</a>
                    <div class="aface content" style="width: 400px;">
                        <a class="aface menu-icon" href="javascript:;" data-menu-id="5-1">
                            <i class="fa fa-home" title="根目录"></i>
                        </a>
                        <a class="aface menu-icon" href="javascript:;" data-menu-id="5-2"></a>
                        <a class="aface menu-icon" href="javascript:;" data-menu-id="5-3"></a>
                        <a class="aface menu-icon" href="javascript:;" data-menu-id="5-4"></a>
                    </div>
                </li>
                <li class="aface menu-item" data-menu-id="6">
                    <a href="javascript:;" class="aface title"><i class="fa fa-qrcode"></i>&nbsp;QRCode</a>
                    <div class="aface content" style="width: 200px; height: 200px;">
                        <a class="aface menu-icon">
                            <img class="aface icon" src="images/mmqrcode.png" style="height: 200px; width: 200px;" />
                        </a>
                    </div>
                </li>
            </ul>
        </nav>
        <div class="aface full-window-mask little-black">
            <div class="aface pop-message success">
                <div class="aface pop-message-content">新增成功</div>
                <a class="aface pop-message-times" href="javascript:;"><i class="fa fa-times"></i></a>
            </div>
        </div>
    </body>
	<script src="bower_components/jquery/dist/jquery.min.js"></script>
	<script src="js/aface.base.js"></script>
	<script type="text/javascript">
        $(function() {
            var _transitionSpeed = 200;
            var _isMouseOnTopMenu = false;
            var _topMenu = $('ul.aface.menu');
            var _underline = $('span.aface.underline');
            var _menuItems = _topMenu.find('li.aface.menu-item');
            _topMenu.on({
                mouseenter : function(e) { _isMouseOnTopMenu = true; },
                mouseleave : function(e) {
                    _isMouseOnTopMenu = false;
                    _currMenuItem = undefined;
                    _underline.animate({ width: 0 }, _transitionSpeed);
                }
            });
            _menuItems.on({
                mouseenter : function(e) {
                    var thiz = $(this);
                    _currMenuItem = thiz.data('menu-id');
                    if (!_isMouseOnTopMenu) { _underline.css({ left : thiz.offset().left }); }
                    setTimeout(function() {
                        if (!_isMouseOnTopMenu) {
                            return false;
                        }
                        if (thiz.data('menu-id') == _currMenuItem) {
                            _underline.animate({
                                width: thiz.find('div').length ? thiz.find('div').outerWidth() : thiz.outerWidth(),
                                left : thiz.offset().left
                            }, _transitionSpeed);
                            _currMenuItem = undefined;
                        }
                    }, _transitionSpeed);
                }
            });
        });

        $(function() {
            // $('div.aface.full-window-mask').fadeOut(1000);
            $('div.aface.pop-message').animate({ 'margin' : '6%'}, 300);
        });
	</script>
</html>