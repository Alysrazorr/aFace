<!DOCTYPE HTML>
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/aface.css" />
    <title></title>
</head>
<body class="aface login">
    <div class="aface login header">
        <div class="aface container" style="background-image: url(images/top.png); background-position: 0 75%;"></div>
    </div>
    <div class="aface login center">
        <div class="aface container">
            <form class="aface login login-form">
                <span class="aface login title">系统登录</span>
                <span class="aface login errors">错误凭证</span>
                <span class="aface login account">帐号</span>
                <input type="text" class="aface login textbox" id="ac" autocomplete="off" />
                <span class="aface login password">密码</span>
                <input type="password" class="aface login textbox" id="pw" autocomplete="off" />
                <button class="aface login button primary">登&nbsp;&nbsp;录</button>
            </form>
        </div>
    </div>
    <div class="aface login footer">
        <div class="aface container">
            <div class="aface">
                <ul class="aface list">
                    <li class="aface"><a href="javascript:;" class="aface">智慧南沙公共信息资源服务平台</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">资源目录管理系统</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">运行维护管理系统</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">资源服务管理系统</a></li>
                </ul>
            </div>
            <div class="aface">
                <ul class="aface list">
                    <li class="aface"><a href="javascript:;" class="aface">使用说明</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">隐私声明</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">平台介绍</a></li>
                    <li class="aface"><a href="javascript:;" class="aface">联系我们</a></li>
                    <li class="aface"><i class="fa fa-copyright">&nbsp;</i>2016南沙经贸科技与信息化局</li>
                </ul>
            </div>
        </div>
    </div>
</body>
<script src="bower_components/jquery/dist/jquery.min.js"></script>
<script src="js/aface.base.js"></script>
<script src="js/aface.datagrid.js"></script>
<script src="js/aface.modal.js"></script>
<script src="js/aface.tabs.js"></script>
<script src="js/aface.ddlist.js"></script>
<script src="js/aface.fileupload.js"></script>
<script type="text/javascript">
    $(function() {
        $('#apForm').on('submit', function(e) {
            e.preventDefault();
            $('#atT').remove();
            $('#ptT').remove();
            var at = Aface.tooltip({
                type : 'danger',
                id : 'atT'
            });
            var pt = Aface.tooltip({
                type : 'danger',
                id : 'ptT'
            });
            if ($('#ac').val().trim().length === 0) {
                at.setMessage('请输入账号');
                at.show($('#ac'), 'east');
            }
            if ($('#pw').val().trim().length === 0) {
                pt.setMessage('请输入密码');
                pt.show($('#pw'), 'east');
            }
        });

        var dragging = false;
        var validated = false;
        var iX, iY;
        var slider = $('div.aface.login.slider');
        var sliderContainer = $('div.aface.login.slider-validate-container');
        var sliderWidth = slider.outerWidth();
        var sliderContainerWidth = sliderContainer.outerWidth();
        var validateLabel = $('div.aface.login.label');

        slider.on({
            'mousedown.sliderValidate' : function(e) {
                dragging = true;
                iX = e.clientX;
                $(document.body).addClass('dragging');
            }
        });
        $(document.body).on({
            'mousemove.sliderValidate' : function(e) {
                if (dragging) {
                    var e = e || window.event;
                    var oX = e.clientX - iX;
                    if (oX < sliderWidth){
                        return false;
                    }
                    if (oX >= sliderContainerWidth + 100){
                        oX = sliderContainerWidth;
                        return false;
                    }
                    slider.width(oX);
                    return false;
                }
            },
            'mouseup.sliderValidate' : function(e) {
                var width = slider.width();
                if (width < sliderContainerWidth){
                    slider.width(sliderWidth);
                } else {
                    validateLabel.css('z-index', '9999');
                    validateLabel.html('验证成功');
                    slider.css({
                        'cursor' : 'default',
                        'background-color' : '#5cb85c'
                    });
                    slider.unbind('mousedown.sliderValidate');
                    $(document.body).unbind('mousemove.sliderValidate');
                    $(document.body).unbind('mouseup.sliderValidate');
                }
                $(document.body).removeClass('dragging');
                dragging = false;
            }
        });
    });
</script>
</html>